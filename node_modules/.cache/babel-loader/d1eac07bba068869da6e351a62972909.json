{"ast":null,"code":"var _jsxFileName = \"/home/nabhdeep/Documents/React/movieApp/movie-app/src/components/movieApp/movieAppHeader.jsx\";\nimport React from 'react';\nimport ToastMessage from '../../common/toastMessage';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nconst searchTypeOptions = [{\n  text: 'Movie',\n  value: 'movie'\n}, {\n  text: 'Series',\n  value: 'series'\n}, {\n  text: 'Episode',\n  value: 'episode'\n}];\n\nclass MovieAppHeader extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      title: '',\n      year: '',\n      titleError: false,\n      yearFormatError: false,\n      type: searchTypeOptions[0],\n      titleErrorMessage: 'Title is Mandatory',\n      yearErrorMessage: 'Enter the year between 1888(First movie release) and Current Year'\n    };\n    this.onChange = this.onChange.bind(this);\n    this.search = this.search.bind(this);\n    this.validate = this.validate.bind(this);\n    this.keyPressValidate = this.keyPressValidate.bind(this);\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  search() {\n    this.props.search(this.state);\n  }\n\n  keyPressValidate(e) {\n    if (e.target.name == 'year' && isNaN(e.target.value)) {\n      return;\n    } else {\n      this.onChange(e);\n    }\n  }\n\n  validate() {\n    let titleError = false;\n    let yearRangeError = false;\n\n    if (!this.state.title) {\n      titleError = true;\n    } // first movie came in 1888\n\n\n    if (this.state.year && (this.state.year < 1888 || this.state.year > new Date().getFullYear())) {\n      yearRangeError = true;\n    }\n\n    if (titleError || yearRangeError) this.setState({\n      titleError: titleError,\n      yearRangeError: yearRangeError\n    });else {\n      this.search();\n    }\n  }\n\n  render() {\n    const {\n      titleError,\n      titleErrorMessage,\n      yearFormatError,\n      yearErrorMessage\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"search-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"search-inner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }, \"Title:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"title\",\n      value: this.state.title,\n      required: \"required\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"search-inner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    }, \"Year:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"year\",\n      value: this.state.year,\n      onChange: this.keyPressValidate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"search-inner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      value: this.state.type,\n      onChange: this.onChange,\n      name: \"type\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }, searchTypeOptions.map((item, index) => /*#__PURE__*/React.createElement(\"option\", {\n      value: item.value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 29\n      }\n    }, item.text)))), /*#__PURE__*/React.createElement(\"button\", {\n      class: \"dropdown\",\n      onClick: this.validate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }, \"Search\")), (yearFormatError || titleError) && /*#__PURE__*/React.createElement(ToastMessage, {\n      message: titleError ? titleErrorMessage : yearErrorMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default MovieAppHeader;","map":{"version":3,"sources":["/home/nabhdeep/Documents/React/movieApp/movie-app/src/components/movieApp/movieAppHeader.jsx"],"names":["React","ToastMessage","toast","searchTypeOptions","text","value","MovieAppHeader","Component","constructor","state","title","year","titleError","yearFormatError","type","titleErrorMessage","yearErrorMessage","onChange","bind","search","validate","keyPressValidate","e","setState","target","name","props","isNaN","yearRangeError","Date","getFullYear","render","map","item","index"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAO,uCAAP;AAEA,MAAMC,iBAAiB,GAAG,CAAC;AAACC,EAAAA,IAAI,EAAC,OAAN;AAAcC,EAAAA,KAAK,EAAE;AAArB,CAAD,EAA+B;AAACD,EAAAA,IAAI,EAAE,QAAP;AAAgBC,EAAAA,KAAK,EAAE;AAAvB,CAA/B,EAAgE;AAACD,EAAAA,IAAI,EAAC,SAAN;AAAgBC,EAAAA,KAAK,EAAC;AAAtB,CAAhE,CAA1B;;AAEA,MAAMC,cAAN,SAA6BN,KAAK,CAACO,SAAnC,CAA6C;AAEzCC,EAAAA,WAAW,GAAG;AACV;AACA,SAAKC,KAAL,GAAa;AAAEC,MAAAA,KAAK,EAAE,EAAT;AAAaC,MAAAA,IAAI,EAAE,EAAnB;AAAuBC,MAAAA,UAAU,EAAE,KAAnC;AAA2CC,MAAAA,eAAe,EAAE,KAA5D;AAAkEC,MAAAA,IAAI,EAAEX,iBAAiB,CAAC,CAAD,CAAzF;AAA6FY,MAAAA,iBAAiB,EAAE,oBAAhH;AAAqIC,MAAAA,gBAAgB,EAAC;AAAtJ,KAAb;AACA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYD,IAAZ,CAAiB,IAAjB,CAAd;AACA,SAAKE,QAAL,GAAgB,KAAKA,QAAL,CAAcF,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKG,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBH,IAAtB,CAA2B,IAA3B,CAAxB;AACH;;AAEDD,EAAAA,QAAQ,CAACK,CAAD,EAAI;AACR,SAAKC,QAAL,CAAc;AAAC,OAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASnB;AAA3B,KAAd;AACH;;AAEDc,EAAAA,MAAM,GAAG;AACL,SAAKO,KAAL,CAAWP,MAAX,CAAkB,KAAKV,KAAvB;AACH;;AAEDY,EAAAA,gBAAgB,CAACC,CAAD,EAAI;AAChB,QAAGA,CAAC,CAACE,MAAF,CAASC,IAAT,IAAiB,MAAjB,IAA2BE,KAAK,CAACL,CAAC,CAACE,MAAF,CAASnB,KAAV,CAAnC,EAAoD;AAChD;AACH,KAFD,MAEM;AACF,WAAKY,QAAL,CAAcK,CAAd;AACH;AACJ;;AAEDF,EAAAA,QAAQ,GAAG;AACP,QAAIR,UAAU,GAAG,KAAjB;AACA,QAAIgB,cAAc,GAAG,KAArB;;AACA,QAAG,CAAC,KAAKnB,KAAL,CAAWC,KAAf,EAAsB;AAClBE,MAAAA,UAAU,GAAG,IAAb;AACH,KALM,CAON;;;AACD,QAAG,KAAKH,KAAL,CAAWE,IAAX,KAAqB,KAAKF,KAAL,CAAWE,IAAX,GAAkB,IAAnB,IAA6B,KAAKF,KAAL,CAAWE,IAAX,GAAkB,IAAIkB,IAAJ,GAAWC,WAAX,EAAnE,CAAH,EAAkG;AAC9FF,MAAAA,cAAc,GAAG,IAAjB;AACH;;AAED,QAAGhB,UAAU,IAAIgB,cAAjB,EAAiC,KAAKL,QAAL,CAAc;AAACX,MAAAA,UAAU,EAAEA,UAAb;AAAwBgB,MAAAA,cAAc,EAAEA;AAAxC,KAAd,EAAjC,KACK;AAAC,WAAKT,MAAL;AAAe;AAGxB;;AAEDY,EAAAA,MAAM,GAAG;AACL,UAAM;AAACnB,MAAAA,UAAD;AAAaG,MAAAA,iBAAb;AAA+BF,MAAAA,eAA/B;AAA+CG,MAAAA;AAA/C,QAAmE,KAAKP,KAA9E;AACA,wBACA,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,QAAQ,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,OAAxB;AAAgC,MAAA,KAAK,EAAE,KAAKA,KAAL,CAAWC,KAAlD;AAAyD,MAAA,QAAQ,EAAC,UAAlE;AAA6E,MAAA,QAAQ,EAAE,KAAKO,QAA5F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,eAMI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,eAEI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,MAAxB;AAA+B,MAAA,KAAK,EAAE,KAAKR,KAAL,CAAWE,IAAjD;AAAuD,MAAA,QAAQ,EAAE,KAAKU,gBAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CANJ,eAUI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,KAAK,EAAE,KAAKZ,KAAL,CAAWK,IAA1B;AAAgC,MAAA,QAAQ,EAAE,KAAKG,QAA/C;AAAyD,MAAA,IAAI,EAAC,MAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKd,iBAAiB,CAAC6B,GAAlB,CAAsB,CAACC,IAAD,EAAMC,KAAN,kBACnB;AAAQ,MAAA,KAAK,EAAED,IAAI,CAAC5B,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4B4B,IAAI,CAAC7B,IAAjC,CADH,CADL,CADJ,CAVJ,eAiBI;AAAQ,MAAA,KAAK,EAAC,UAAd;AAAyB,MAAA,OAAO,EAAE,KAAKgB,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAjBJ,CADJ,EAoBK,CAACP,eAAe,IAAID,UAApB,kBACG,oBAAC,YAAD;AAAc,MAAA,OAAO,EAAEA,UAAU,GAAGG,iBAAH,GAAuBC,gBAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArBR,CADA;AA0BH;;AAzEwC;;AA4E7C,eAAeV,cAAf","sourcesContent":["import React from 'react';\nimport ToastMessage from '../../common/toastMessage';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst searchTypeOptions = [{text:'Movie',value: 'movie'},{text: 'Series',value: 'series'},{text:'Episode',value:'episode'}]\n\nclass MovieAppHeader extends React.Component {\n\n    constructor() {\n        super()\n        this.state = { title: '', year: '', titleError: false , yearFormatError: false,type: searchTypeOptions[0],titleErrorMessage: 'Title is Mandatory',yearErrorMessage:'Enter the year between 1888(First movie release) and Current Year' };\n        this.onChange = this.onChange.bind(this);\n        this.search = this.search.bind(this);\n        this.validate = this.validate.bind(this);\n        this.keyPressValidate = this.keyPressValidate.bind(this);\n    }\n\n    onChange(e) {\n        this.setState({[e.target.name]: e.target.value})\n    }\n\n    search() {\n        this.props.search(this.state);\n    }\n\n    keyPressValidate(e) {\n        if(e.target.name == 'year' && isNaN(e.target.value)){\n            return\n        }else {\n            this.onChange(e);\n        }\n    }\n\n    validate() {\n        let titleError = false;\n        let yearRangeError = false;\n        if(!this.state.title) {\n            titleError = true;\n        }\n\n         // first movie came in 1888\n        if(this.state.year && ((this.state.year < 1888) || (this.state.year > new Date().getFullYear()))) {\n            yearRangeError = true;\n        }\n\n        if(titleError || yearRangeError) this.setState({titleError: titleError,yearRangeError: yearRangeError})\n        else {this.search();}\n        \n\n    }\n\n    render() {\n        const {titleError, titleErrorMessage,yearFormatError,yearErrorMessage} = this.state;\n        return (\n        <React.Fragment>\n            <div className=\"search-div\">\n                <div className=\"search-inner\">\n                    <label required>Title:</label>\n                    <input type=\"text\" name=\"title\" value={this.state.title} required=\"required\" onChange={this.onChange} />\n                    {/* {this.state.titleError && <p>Title is mandatory</p>} */}\n                </div>\n                <div className=\"search-inner\">\n                    <label>Year:</label>\n                    <input type=\"text\" name=\"year\" value={this.state.year} onChange={this.keyPressValidate} />\n                </div>\n                <div className=\"search-inner\">\n                    <select value={this.state.type} onChange={this.onChange} name=\"type\">\n                        {searchTypeOptions.map((item,index) => \n                            <option value={item.value}>{item.text}</option>\n                        )}\n                    </select>\n                </div>\n                <button class=\"dropdown\" onClick={this.validate}>Search</button>\n            </div>\n            {(yearFormatError || titleError) &&\n                <ToastMessage message={titleError ? titleErrorMessage : yearErrorMessage}/>\n            }\n            </React.Fragment>\n        )\n    }\n}\n\nexport default MovieAppHeader;"]},"metadata":{},"sourceType":"module"}