{"ast":null,"code":"var _jsxFileName = \"/home/nabhdeep/Documents/React/movieApp/movie-app/src/components/movieApp/movieCardList.jsx\";\nimport React from 'react';\nimport MovieCard from './movieCard';\n\nclass MovieCardList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.toggleFavourite = this.toggleFavourite.bind(this);\n    this.movieIndexInFavList = this.movieIndexInFavList.bind(this);\n    this.getFavMovieList = this.getFavMovieList.bind(this);\n    this.updateFavMovieList = this.updateFavMovieList.bind(this);\n    this.hideFavouriteList = this.hideFavouriteList.bind(this);\n    this.state = { ...props\n    };\n  }\n\n  componentDidMount() {\n    this.getFavMovieList();\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return { ...props\n    };\n  }\n\n  getFavMovieList() {\n    var favouriteMovieList = localStorage.getItem('favouriteMovieList');\n    favouriteMovieList = favouriteMovieList ? JSON.parse(favouriteMovieList) : [];\n    this.setState({\n      favouriteMovieList: favouriteMovieList\n    });\n  }\n\n  updateFavMovieList() {\n    var favouriteMovieList = this.state.favouriteMovieList;\n    var index = this.movieIndexInFavList();\n    if (index != -1) favouriteMovieList.splice(index, 1);else {\n      favouriteMovieList.push({ ...this.state.movieDetails,\n        isFavouriteMarked: true\n      });\n    }\n    localStorage.setItem('favouriteMovieList', JSON.stringify(favouriteMovieList));\n    this.getFavMovieList();\n  }\n\n  movieIndexInFavList() {\n    let tempIndex = -1;\n    this.state.favouriteMovieList && this.state.favouriteMovieList.length > 0 && this.state.favouriteMovieList.map((item, index) => {\n      if (item.imdbID == this.props.movieDetails.imdbID) {\n        tempIndex = index;\n      }\n    });\n    return tempIndex;\n  }\n\n  toggleFavourite() {\n    this.updateFavMovieList();\n  }\n\n  hideFavouriteList() {\n    return window.location.href.split('/')[window.location.href.split('/').length - 1] == 'favouriteList';\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"temp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, !this.hideFavouriteList() && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-outer card-direction search-top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(MovieCard, {\n      currentItem: item,\n      enableFavourite: true,\n      toggleFavourite: this.toggleFavourite,\n      movieIndexInFavList: this.movieIndexInFavList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    })), this.hideFavouriteList() && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-outer card-direction\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }, this.state.favouriteMovieList && this.state.favouriteMovieList.map((item, index) => /*#__PURE__*/React.createElement(MovieCard, {\n      currentItem: item,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 29\n      }\n    }))));\n  }\n\n}\n\nexport default MovieCardList;","map":{"version":3,"sources":["/home/nabhdeep/Documents/React/movieApp/movie-app/src/components/movieApp/movieCardList.jsx"],"names":["React","MovieCard","MovieCardList","Component","constructor","props","toggleFavourite","bind","movieIndexInFavList","getFavMovieList","updateFavMovieList","hideFavouriteList","state","componentDidMount","getDerivedStateFromProps","favouriteMovieList","localStorage","getItem","JSON","parse","setState","index","splice","push","movieDetails","isFavouriteMarked","setItem","stringify","tempIndex","length","map","item","imdbID","window","location","href","split","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport MovieCard from './movieCard';\n\nclass MovieCardList extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.toggleFavourite = this.toggleFavourite.bind(this);\n        this.movieIndexInFavList = this.movieIndexInFavList.bind(this);\n        this.getFavMovieList = this.getFavMovieList.bind(this);\n        this.updateFavMovieList = this.updateFavMovieList.bind(this);\n        this.hideFavouriteList = this.hideFavouriteList.bind(this);\n        this.state = { ...props }\n    }\n\n    componentDidMount() {\n        this.getFavMovieList();\n    }\n\n    static getDerivedStateFromProps(props,state) {\n        return {\n            ...props\n        }\n    }\n\n    getFavMovieList() {\n        var favouriteMovieList = localStorage.getItem('favouriteMovieList');\n        favouriteMovieList = favouriteMovieList ? JSON.parse(favouriteMovieList) : [];\n        this.setState({ favouriteMovieList: favouriteMovieList })\n    }\n\n    updateFavMovieList() {\n        var favouriteMovieList = this.state.favouriteMovieList;\n        var index = this.movieIndexInFavList();\n        if(index != -1) favouriteMovieList.splice(index,1)\n        else { favouriteMovieList.push({...this.state.movieDetails,isFavouriteMarked: true})}\n        localStorage.setItem('favouriteMovieList',JSON.stringify(favouriteMovieList))\n        this.getFavMovieList();\n    }\n\n    movieIndexInFavList() {\n        let tempIndex = -1;\n         this.state.favouriteMovieList && this.state.favouriteMovieList.length > 0 && this.state.favouriteMovieList.map((item,index) => {\n            if(item.imdbID == this.props.movieDetails.imdbID) {\n                tempIndex = index;\n            }\n        })\n        return tempIndex;\n    }\n\n    toggleFavourite() {\n        this.updateFavMovieList();\n    }\n\n    hideFavouriteList() {\n        return window.location.href.split('/')[window.location.href.split('/').length-1] == 'favouriteList'\n    }\n\n    render() {\n        return (\n            <div className=\"temp\">\n                {!this.hideFavouriteList() && \n                <div className=\"card-outer card-direction search-top\">\n                    <MovieCard currentItem={item} enableFavourite={true} toggleFavourite={this.toggleFavourite} movieIndexInFavList={this.movieIndexInFavList}/>\n                </div>}\n                {this.hideFavouriteList() && \n                    <div className=\"card-outer card-direction\">\n                        {this.state.favouriteMovieList && this.state.favouriteMovieList.map((item,index) => \n                            <MovieCard currentItem={item} />\n                        )}\n                    </div>}\n            </div>\n        )\n    }\n\n}\n\nexport default MovieCardList;"]},"metadata":{},"sourceType":"module"}